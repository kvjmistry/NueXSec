#include "services_microboone.fcl"
#include "messageservice.fcl"
#include "time_memory_tracker_microboone.fcl"

process_name : NueXsecExtractorProcess

services:
{
  TFileService: {fileName: "nue_xsec_treemaker.root"}
  @table::microboone_services_reco
  @table::microboone_full_services
  message:       @local::microboone_message_services_prod_debug
}
#end services

source:
{
  module_type: RootInput
  maxEvents: -1
  firstRun: 1
  firstEvent: 1
}

physics:
{
  producers:
  {
    ProduceMCGhost:
    {
      module_type:           "RecoTrueMatching"
      PFParticleProducer:    "pandora"
      HitProducer:           "pandoraCosmicHitRemoval"
      GeantModule:           "largeant"
      SpacePointProducer:    "pandora"
      UsePremadeAssociation: "true"
      MCPHitAssProducer:     "crHitRemovalTruthMatch"
      CosmicOnly:            "false"
      Debug:                 "true"
    }
  }
  production: [ProduceMCGhost]
  end_paths: [production]
}

#we need these services to properly get the hits!
services.DetectorPropertiesService.NumberTimeSamples:        6400
services.DetectorPropertiesService.ReadOutWindowSize:        6400
services.DetectorClocksService.InheritClockConfig:           false
services.DetectorClocksService.TriggerOffsetTPC:             -0.400e3
services.DetectorClocksService.TrigModuleName:               "daq"
